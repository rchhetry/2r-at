<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2R-AT | Elite Cybersecurity Solutions</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='sg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%231a237e'/%3E%3Cstop offset='100%25' style='stop-color:%230d47a1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M50 10 L70 20 L70 50 Q70 65 50 75 Q30 65 30 50 L30 20 Z' fill='url(%23sg)' stroke='%2300e676' stroke-width='2'/%3E%3Ccircle cx='50' cy='35' r='3' fill='%2300e676'/%3E%3Cline x1='50' y1='35' x2='40' y2='35' stroke='%2300e676' stroke-width='1.5'/%3E%3Cline x1='50' y1='35' x2='60' y2='35' stroke='%2300e676' stroke-width='1.5'/%3E%3Crect x='45' y='42' width='10' height='8' fill='none' stroke='%2300e676' stroke-width='1.5' rx='1'/%3E%3C/svg%3E">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Features Section */
        .features {
            padding: 100px 0;
            background: var(--dark); /* Or its specific background */
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 4rem; /* Or as per original */
        }

        .feature-item {
            text-align: center;
            padding: 2rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
        }

        .feature-link { /* This class might be part of feature-item in original */
            display: inline-block;
            margin-top: 1rem;
            color: var(--primary);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .feature-item:hover .feature-link {
            color: var(--secondary);
            transform: translateX(5px);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .feature-item:hover .feature-icon {
            background: var(--primary);
            transform: scale(1.1) rotate(360deg); /* Or specific hover animation */
        }

        /* Styles for Feature Detail Modal/Section */
        /* It uses .feature-detail-section, .service-detail-header, .feature-detail-icon, .feature-detail-title */
        /* .feature-stats, .feature-stat, .feature-stat-number are already defined from Training CSS, check if they need overrides */
        /* .service-detail-grid, .detail-card are also potentially defined */

        .feature-detail-section { /* This is the main container for the feature detail view */
            /* padding, background, min-height, position are likely same as .service-detail-section */
            /* If .service-detail-section is already robustly styled, this might not need much */
        }

        .feature-detail-header { /* Specific to feature detail, if different from service-detail-header */
            text-align: center;
            margin-bottom: 3rem;
        }

        .feature-detail-icon { /* Specific icon styling for feature page */
            font-size: 5rem;
            margin-bottom: 1rem;
            display: inline-block;
            /* animation: pulse 2s ease infinite; /* Example if it had animation */
        }

        .feature-detail-title { /* Specific title styling for feature page */
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-tech-stack { /* Container for technology items in feature detail */
            background: rgba(10, 14, 39, 0.6);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .tech-item {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 0.75rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: scale(1.05);
        }

/* Case Studies Section */
.case-studies-section {
    padding: 60px 20px;
    text-align: center;
    background-color: #f0f4f8; /* Light blue-gray background */
}

.case-studies-section h2 {
    font-size: 2.5em;
    margin-bottom: 40px;
    color: #333;
}

.case-studies-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.case-study-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    padding: 25px;
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.case-study-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.case-study-card h3 {
    font-size: 1.8em;
    color: #007bff; /* Primary blue for headings */
    margin-bottom: 15px;
}

.case-study-card p {
    font-size: 1em;
    line-height: 1.6;
    color: #555;
    margin-bottom: 15px;
}

.case-study-card .read-more-btn {
    display: inline-block;
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

.case-study-card .read-more-btn:hover {
    background-color: #0056b3; /* Darker blue on hover */
}

/* Case Study Modal */
.case-study-modal {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    z-index: 10002; /* Higher z-index */
}

.case-study-modal.active {
    opacity: 1;
    visibility: visible;
}

.case-study-modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 8px;
    width: 90%;
    max-width: 700px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.case-study-modal.active .case-study-modal-content {
    transform: scale(1);
}

.case-study-modal-content h3 {
    font-size: 2em;
    color: #007bff;
    margin-top: 0;
    margin-bottom: 20px;
}

.case-study-modal-content p {
    font-size: 1.1em;
    line-height: 1.7;
    color: #333;
    margin-bottom: 15px;
}

.case-study-modal-content ul {
    list-style: disc;
    margin-left: 20px;
    margin-bottom: 15px;
}

.case-study-modal-content .close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 2em;
    font-weight: bold;
    color: #888;
    cursor: pointer;
    transition: color 0.2s ease;
}
.case-study-modal-content .close-btn:hover {
    color: #333;
}
/* Ensure modal close button is on top of content */
.case-study-modal-content .close-modal-btn { /* Assuming this class for a button */
    position: relative; /* Or absolute if it's positioned within the modal header */
    z-index: 10003; /* Higher than other modal content */
    float: right; /* Example positioning */
    background-color: #dc3545; /* Red for close */
    color: white;
    padding: 8px 15px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    border: none;
    cursor: pointer;
}
.case-study-modal-content .close-modal-btn:hover {
    background-color: #c82333; /* Darker red on hover */
}

        :root {
            --primary: #00D4FF;
            --secondary: #FF006E;
            --dark: #0A0E27;
            --darker: #050714;
            --light: #F8F9FA;
            --gray: #94A3B8;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--darker);
            color: var(--light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            background: linear-gradient(45deg, #0A0E27 0%, #050714 50%, #0A0E27 100%);
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
        }

        /* Cyber Grid Effect */
        .cyber-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 212, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: grid-move 20s linear infinite;
        }

        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Navigation */
        nav {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: rgba(5, 7, 20, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
        }

        .logo::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--primary);
            filter: blur(20px);
            opacity: 0.5;
            z-index: -1;
        }

        .logo-icon {
            width: 150px;
            height: 75px;
            position: relative;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Authentication Buttons */
        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .auth-buttons.authenticated {
            position: relative;
        }

        .user-menu {
            position: relative;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--dark);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
            min-width: 200px;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .user-dropdown.active {
            display: block;
        }

        .user-info {
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            margin-bottom: 1rem;
        }

        .user-info h4 {
            color: var(--primary);
            margin-bottom: 0.25rem;
        }

        .user-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .user-dropdown a {
            display: block;
            color: var(--light);
            text-decoration: none;
            padding: 0.5rem 0;
            transition: color 0.3s ease;
        }

        .user-dropdown a:hover {
            color: var(--primary);
        }

        /* Authentication Modal */
        .auth-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }

        .auth-content {
            position: relative;
            background: var(--dark);
            margin: 5% auto;
            padding: 3rem;
            width: 90%;
            max-width: 450px;
            border-radius: 20px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .auth-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: var(--primary);
            cursor: pointer;
            z-index: 10001;
        }

        .auth-close:hover {
            color: var(--secondary);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .auth-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .auth-subtitle {
            color: var(--gray);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 0.25rem;
        }

        .auth-tab {
            flex: 1;
            padding: 0.75rem;
            text-align: center;
            background: transparent;
            border: none;
            color: var(--gray);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .auth-tab.active {
            background: var(--primary);
            color: var(--dark);
            font-weight: bold;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--gray);
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 8px;
            color: var(--light);
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        .btn {
            padding: 1rem 2.5rem;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-block;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--light);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.7);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .auth-switch {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--gray);
        }

        .auth-switch a {
            color: var(--primary);
            text-decoration: none;
            cursor: pointer;
        }

        .auth-switch a:hover {
            color: var(--secondary);
        }

        /* Protected Content Overlay */
        .protected-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            border-radius: 15px;
        }

        .protected-content {
            text-align: center;
            padding: 2rem;
        }

        .protected-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .protected-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .protected-text {
            color: var(--gray);
            margin-bottom: 2rem;
        }

        /* User Stats */
        .user-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Achievement Badges */
        .achievement-badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .badge {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #FFD700;
            color: #FFD700;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Role Indicators */
        .role-admin {
            background: linear-gradient(135deg, #FF6B6B, #FF8E8E);
        }

        .role-premium {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }

        .role-basic {
            background: linear-gradient(135deg, #4ECDC4, #45B7D1);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--dark);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 1rem 1.5rem;
            max-width: 300px;
            z-index: 10000;
            transform: translateX(350px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-color: var(--success);
        }

        .notification.error {
            border-color: var(--danger);
        }

        .notification.warning {
            border-color: var(--warning);
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Section Header */
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 0 2rem;
        }

        .hero-content {
            text-align: center;
            max-width: 1000px;
            position: relative;
            z-index: 1;
        }

        .glitch {
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: bold;
            text-transform: uppercase;
            position: relative;
            color: var(--light);
            letter-spacing: 3px;
            animation: glitch 2s linear infinite;
        }

        @keyframes glitch {
            2%, 64% {
                transform: translate(2px, 0) skew(0deg);
            }
            4%, 60% {
                transform: translate(-2px, 0) skew(0deg);
            }
            62% {
                transform: translate(0, 0) skew(5deg);
            }
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch::before {
            animation: glitch-1 0.5s infinite;
            color: var(--primary);
            z-index: -1;
        }

        .glitch::after {
            animation: glitch-2 0.5s infinite;
            color: var(--secondary);
            z-index: -2;
        }

        @keyframes glitch-1 {
            0%, 100% {
                clip: rect(0, 900px, 0, 0);
            }
            25% {
                clip: rect(20px, 900px, 40px, 0);
            }
            50% {
                clip: rect(60px, 900px, 80px, 0);
            }
            75% {
                clip: rect(100px, 900px, 120px, 0);
            }
        }

        @keyframes glitch-2 {
            0%, 100% {
                clip: rect(0, 900px, 0, 0);
            }
            25% {
                clip: rect(30px, 900px, 50px, 0);
            }
            50% {
                clip: rect(70px, 900px, 90px, 0);
            }
            75% {
                clip: rect(110px, 900px, 130px, 0);
            }
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--gray);
            margin: 2rem 0;
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.5s;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
            from {
                opacity: 0;
                transform: translateY(30px);
            }
        }

        .cta-container {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-top: 3rem;
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.7s;
        }

        /* Professional Services Section */
        .professional-services {
            padding: 100px 0;
            background: var(--dark);
            position: relative;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: rgba(10, 14, 39, 0.5);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 15px;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border-radius: 15px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s ease;
        }

        .service-card:hover::before {
            opacity: 1;
        }

        .service-card:hover {
            transform: translateY(-10px);
            border-color: transparent;
        }

        .service-card::after {
            content: '';
            position: absolute;
            inset: 1px;
            background: var(--dark);
            border-radius: 14px;
            z-index: -1;
        }

        .service-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .service-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--light);
        }

        .service-description {
            color: var(--gray);
            line-height: 1.8;
        }

        .service-link {
            display: inline-block;
            margin-top: 1rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .service-link:hover {
            color: var(--secondary);
            transform: translateX(5px);
        }

        /* Dashboard Section */
        .dashboard-section {
            padding: 100px 0;
            background: var(--dark);
            position: relative;
        }

        .dashboard-container {
            background: rgba(10, 14, 39, 0.8);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 3rem;
            position: relative;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--success);
            animation: pulse 2s infinite;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }

        .metric-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* CTF Challenges Section */
        .ctf-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            position: relative;
        }

        .ctf-challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            position: relative; /* For protected overlay */
        }

        .ctf-card {
            background: rgba(10, 14, 39, 0.8);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .ctf-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.3);
        }

        /* Contact Section */
        .contact {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            position: relative;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .contact-info h3 {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--primary);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .contact-form {
            background: rgba(10, 14, 39, 0.5);
            padding: 3rem;
            border-radius: 15px;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--gray);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 8px;
            color: var(--light);
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        /* Footer */
        footer {
            background: var(--darker);
            padding: 3rem 0;
            text-align: center;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        /* Mobile Responsive */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 4px;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 2px;
            background: var(--primary);
            transition: all 0.3s ease;
        }

        /* Particles */
        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0.3;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            from {
                transform: translateY(100vh) translateX(0);
            }
            to {
                transform: translateY(-100px) translateX(100px);
            }
        }

        /* Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s ease;
        }

        .loader-circle {
            width: 50px;
            height: 50px;
            border: 3px solid transparent;
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--darker);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        @media (max-width: 768px) {
            .logo-icon {
                width: 120px;
                height: 60px;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                flex-direction: column;
                background: rgba(5, 7, 20, 0.98);
                padding: 2rem;
                gap: 1rem;
                border-top: 1px solid rgba(0, 212, 255, 0.2);
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .mobile-menu-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }

            .mobile-menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }

            .mobile-menu-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(5px, -5px);
            }

            .hero-content {
                padding: 0 1rem;
            }

            .glitch {
                font-size: 3rem;
            }

            .cta-container {
                flex-direction: column;
                width: 100%;
                padding: 0 1rem;
            }

            .btn {
                width: 100%;
                text-align: center;
            }

            .contact-container {
                grid-template-columns: 1fr;
            }

            .services-grid,
            .ctf-challenges-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 1rem;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .auth-content {
                margin: 10% auto;
                padding: 2rem;
            }

            .user-dropdown {
                right: -50px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader" id="loader">
        <div class="loader-circle"></div>
    </div>

    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="cyber-grid"></div>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">
                <svg class="logo-icon" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background Shield -->
                    <defs>
                        <linearGradient id="shieldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#1a237e;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0d47a1;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="textGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#00e676;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#00bfa5;stop-opacity:1" />
                        </linearGradient>
                    </defs>

                    <!-- Shield Shape -->
                    <path d="M200 30 L250 50 L250 100 Q250 130 200 150 Q150 130 150 100 L150 50 Z"
                          fill="url(#shieldGradient)" stroke="#00e676" stroke-width="2" opacity="0.9"/>

                    <!-- Circuit Pattern Inside Shield -->
                    <circle cx="200" cy="70" r="5" fill="#00e676" opacity="0.8"/>
                    <line x1="200" y1="70" x2="180" y2="70" stroke="#00e676" stroke-width="2" opacity="0.6"/>
                    <line x1="200" y1="70" x2="220" y2="70" stroke="#00e676" stroke-width="2" opacity="0.6"/>
                    <line x1="200" y1="70" x2="200" y2="90" stroke="#00e676" stroke-width="2" opacity="0.6"/>
                    <line x1="200" y1="70" x2="200" y2="50" stroke="#00e676" stroke-width="2" opacity="0.6"/>

                    <!-- Lock Icon in Shield -->
                    <rect x="190" y="80" width="20" height="15" fill="none" stroke="#00e676" stroke-width="2" rx="2"/>
                    <path d="M195 80 L195 75 Q200 70 205 75 L205 80" fill="none" stroke="#00e676" stroke-width="2"/>

                    <!-- Company Name -->
                    <text x="200" y="110" font-family="Arial, sans-serif" font-size="36" font-weight="bold"
                          text-anchor="middle" fill="url(#textGradient)">2R-AT</text>
                </svg>
            </a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#professional-services">Services</a></li>
                <li><a href="#training">Training</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#case-studies">Success Stories</a></li>
                <li><a href="#dashboard" onclick="checkAuth('dashboard')">Dashboard</a></li>
                <li><a href="#ctf-challenges" onclick="checkAuth('ctf')">CTF Challenges</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>

            <!-- Authentication Buttons -->
            <div class="auth-buttons" id="auth-buttons">
                <button class="btn btn-secondary btn-small" onclick="showAuthModal('login')">Login</button>
                <button class="btn btn-primary btn-small" onclick="showAuthModal('register')">Get Started</button>
            </div>

            <!-- User Menu (hidden by default) -->
            <div class="user-menu" id="user-menu" style="display: none;">
                <div class="user-avatar" onclick="toggleUserDropdown()" id="user-avatar">
                    <!-- User initials will be inserted here -->
                </div>
                <div class="user-dropdown" id="user-dropdown">
                    <div class="user-info">
                        <h4 id="user-display-name">Loading...</h4>
                        <p id="user-email">Loading...</p>
                        <p id="user-role">Loading...</p>
                    </div>
                    <a href="#" onclick="showProfile()">👤 Profile</a>
                    <a href="#" onclick="showAchievements()">🏆 Achievements</a>
                    <a href="#" onclick="showSettings()">⚙️ Settings</a>
                    <a href="#" onclick="logout()">🚪 Logout</a>
                </div>
            </div>

            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Authentication Modal -->
    <div id="auth-modal" class="auth-modal">
        <div class="auth-content">
            <span class="auth-close" onclick="closeAuthModal()">&times;</span>

            <div class="auth-header">
                <h2 class="auth-title" id="auth-title">Welcome to 2R-AT</h2>
                <p class="auth-subtitle" id="auth-subtitle">Secure your digital future</p>
            </div>

            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')" id="login-tab">Login</button>
                <button class="auth-tab" onclick="switchAuthTab('register')" id="register-tab">Register</button>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="login-email">Email Address</label>
                    <input type="email" id="login-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Secure Login</button>
                <div class="auth-switch">
                    Don't have an account? <a onclick="switchAuthTab('register')">Register here</a>
                </div>
            </form>

            <!-- Register Form -->
            <form class="auth-form" id="register-form" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label for="register-name">Full Name</label>
                    <input type="text" id="register-name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email Address</label>
                    <input type="email" id="register-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="register-company">Company (Optional)</label>
                    <input type="text" id="register-company" name="company">
                </div>
                <div class="form-group">
                    <label for="register-role">Role</label>
                    <select id="register-role" name="role" required>
                        <option value="">Select your role</option>
                        <option value="security-analyst">Security Analyst</option>
                        <option value="developer">Developer</option>
                        <option value="ciso">CISO</option>
                        <option value="pentester">Penetration Tester</option>
                        <option value="student">Student</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" name="password" required minlength="8">
                </div>
                <div class="form-group">
                    <label for="register-confirm">Confirm Password</label>
                    <input type="password" id="register-confirm" name="confirm" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Create Secure Account</button>
                <div class="auth-switch">
                    Already have an account? <a onclick="switchAuthTab('login')">Login here</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification">
        <div id="notification-message"></div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="particles" id="particles"></div>
        <div class="hero-content">
            <h1 class="glitch" data-text="2R-AT SECURITY">2R-AT SECURITY</h1>
            <p class="hero-subtitle">Next-Generation Cybersecurity Solutions for the Digital Age</p>
            <div class="cta-container">
                <a href="#contact" class="btn btn-primary">Start Securing Now</a>
                <a href="#professional-services" class="btn btn-secondary">Explore Services</a>
            </div>
        </div>
    </section>

    <!-- Professional Services Section -->
    <section class="professional-services" id="professional-services">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Professional Services</h2>
                <p class="section-subtitle">Comprehensive protection for your digital infrastructure</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">☁️</div>
                    <h3 class="service-title">Cloud Security</h3>
                    <p class="service-description">Advanced cloud infrastructure protection with real-time monitoring, automated threat response, and compliance management for AWS, Azure, and GCP environments.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon">🔓</div>
                    <h3 class="service-title">Penetration Testing</h3>
                    <p class="service-description">Elite ethical hacking services simulating real-world attacks to identify vulnerabilities before malicious actors can exploit them.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon">🛡️</div>
                    <h3 class="service-title">Vulnerability Analysis</h3>
                    <p class="service-description">Comprehensive security assessments using cutting-edge tools and methodologies to identify and prioritize system weaknesses.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon">🎯</div>
                    <h3 class="service-title">Threat Hunting</h3>
                    <p class="service-description">Proactive threat detection and response services to identify advanced persistent threats and zero-day exploits in your environment.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon">📊</div>
                    <h3 class="service-title">GRC Services</h3>
                    <p class="service-description">Complete governance, risk, and compliance solutions ensuring your organization meets all regulatory requirements.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon">🔍</div>
                    <h3 class="service-title">Security Auditing</h3>
                    <p class="service-description">Thorough security audits and assessments to ensure your systems meet industry standards and best practices.</p>
                    <a href="#" class="service-link">Learn More →</a>
                </div>
            </div>
        </div>
    </section> <!-- End Professional Services -->

    <!-- Training Section -->
    <section class="training-section" id="training">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Cybersecurity Training Programs</h2>
                <p class="section-subtitle">Empower your team with cutting-edge security knowledge and skills</p>
            </div>
            <div class="training-grid">
                <div class="training-card" onclick="showTrainingDetail('security-awareness')">
                    <div class="training-icon">🧠</div>
                    <h3 class="training-title">Security Awareness Training</h3>
                    <p class="training-description">Comprehensive security awareness program designed to transform your employees into the first line of defense against cyber threats.</p>
                    <ul class="training-features">
                        <li>Interactive phishing simulations</li>
                        <li>Real-world threat scenarios</li>
                        <li>Customizable content by role</li>
                        <li>Progress tracking and reporting</li>
                        <li>Quarterly security updates</li>
                    </ul>
                    <div class="training-meta">
                        <span class="training-duration">4-8 weeks</span>
                        <span class="training-level">All Levels</span>
                    </div>
                    <a href="#training-detail" class="training-link">Enroll Now →</a>
                </div>

                <div class="training-card" onclick="showTrainingDetail('risk-management')">
                    <div class="training-icon">⚖️</div>
                    <h3 class="training-title">Risk Management Certification</h3>
                    <p class="training-description">Master the art of identifying, assessing, and mitigating cybersecurity risks across your organization with industry-leading frameworks.</p>
                    <ul class="training-features">
                        <li>NIST and ISO 27001 frameworks</li>
                        <li>Risk assessment methodologies</li>
                        <li>Business impact analysis</li>
                        <li>Incident response planning</li>
                        <li>Regulatory compliance strategies</li>
                    </ul>
                    <div class="training-meta">
                        <span class="training-duration">12 weeks</span>
                        <span class="training-level">Intermediate to Advanced</span>
                    </div>
                    <a href="#training-detail" class="training-link">Learn More →</a>
                </div>

                <div class="training-card" onclick="showTrainingDetail('ethical-hacking')">
                    <div class="training-icon">🎭</div>
                    <h3 class="training-title">Ethical Hacking Bootcamp</h3>
                    <p class="training-description">Intensive hands-on training program covering advanced penetration testing techniques and vulnerability assessment methodologies.</p>
                    <ul class="training-features">
                        <li>Network penetration testing</li>
                        <li>Web application security</li>
                        <li>Mobile app penetration testing</li>
                        <li>Social engineering techniques</li>
                        <li>Real-world lab environments</li>
                    </ul>
                    <div class="training-meta">
                        <span class="training-duration">16 weeks</span>
                        <span class="training-level">Advanced</span>
                    </div>
                    <a href="#training-detail" class="training-link">Apply Now →</a>
                </div>

                <div class="training-card" onclick="showTrainingDetail('digital-forensics')">
                    <div class="training-icon">🔬</div>
                    <h3 class="training-title">Digital Forensics Bootcamp</h3>
                    <p class="training-description">Comprehensive training in digital evidence collection, analysis, and presentation for cybersecurity incident response and legal proceedings.</p>
                    <ul class="training-features">
                        <li>Digital evidence acquisition</li>
                        <li>Memory and disk analysis</li>
                        <li>Network forensics techniques</li>
                        <li>Mobile device investigations</li>
                        <li>Court testimony preparation</li>
                    </ul>
                    <div class="training-meta">
                        <span class="training-duration">20 weeks</span>
                        <span class="training-level">Advanced</span>
                    </div>
                    <a href="#training-detail" class="training-link">Reserve Spot →</a>
                </div>
            </div>

            <!-- Training Stats -->
            <div class="stats" style="padding: 60px 0; margin-top: 60px;">
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">5,000+</span>
                        <span class="stat-label">Professionals Trained</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">95%</span>
                        <span class="stat-label">Certification Pass Rate</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">500+</span>
                        <span class="stat-label">Corporate Programs</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">4.9/5</span>
                        <span class="stat-label">Student Satisfaction</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Detail Modal/Section (Placeholder for JS interaction) -->
    <section id="training-detail" class="service-detail-section" style="display: none;">
        <div class="container">
            <button class="close-detail" onclick="closeTrainingDetail()">← Back to Training Programs</button>
            <div id="training-detail-content">
                <!-- Dynamic content will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Why Choose 2R-AT</h2>
                <p class="section-subtitle">Advanced capabilities that set us apart</p>
            </div>
            <div class="features-grid">
                <div class="feature-item" onclick="showFeatureDetail('ai-detection')">
                    <div class="feature-icon">🤖</div>
                    <h3>AI-Powered Detection</h3>
                    <p>Machine learning algorithms that evolve with emerging threats</p>
                    <span class="feature-link">Explore →</span>
                </div>
                <div class="feature-item" onclick="showFeatureDetail('real-time-response')">
                    <div class="feature-icon">⚡</div>
                    <h3>Real-Time Response</h3>
                    <p>Instant threat neutralization with automated countermeasures</p>
                    <span class="feature-link">Explore →</span>
                </div>
                <div class="feature-item" onclick="showFeatureDetail('zero-trust')">
                    <div class="feature-icon">🔐</div>
                    <h3>Zero Trust Architecture</h3>
                    <p>Never trust, always verify - comprehensive security at every layer</p>
                    <span class="feature-link">Explore →</span>
                </div>
                <div class="feature-item" onclick="showFeatureDetail('threat-intelligence')">
                    <div class="feature-icon">🌐</div>
                    <h3>Global Threat Intelligence</h3>
                    <p>Access to worldwide threat databases and security networks</p>
                    <span class="feature-link">Explore →</span>
                </div>
                <div class="feature-item" onclick="showFeatureDetail('predictive-analytics')">
                    <div class="feature-icon">📈</div>
                    <h3>Predictive Analytics</h3>
                    <p>Anticipate attacks before they happen with advanced modeling</p>
                    <span class="feature-link">Explore →</span>
                </div>
                <div class="feature-item" onclick="showFeatureDetail('certifications')">
                    <div class="feature-icon">🏆</div>
                    <h3>Industry Certified</h3>
                    <p>ISO 27001, SOC 2, and NIST compliant security practices</p>
                    <span class="feature-link">Explore →</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Feature Detail Modal/Section (Placeholder for JS interaction) -->
    <section id="feature-detail" class="feature-detail-section" style="display: none;">
        <div class="container">
            <button class="close-detail" onclick="closeFeatureDetail()">← Back to Features</button>
            <div id="feature-detail-content">
                <!-- Dynamic content will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Case Studies -->
    <section class="case-studies" id="case-studies">
        <div class="container">
            <h2 class="section-title">Success Stories</h2>
            <p style="text-align: center; color: var(--gray);">
                Real results from real clients
            </p>

            <div class="case-grid">
                <div class="case-card" onclick="showCaseDetail('financial-institution')">
                    <div class="case-header">
                        <div class="case-icon">🏦</div>
                        <h3>Global Financial Institution</h3>
                    </div>
                    <div class="case-content">
                        <p>Implemented zero-trust architecture across 50+ branches, preventing $10M in potential fraud.</p>
                        <div class="case-stats">
                            <div class="case-stat">
                                <div class="case-stat-value">99.9%</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Threat Prevention</div>
                            </div>
                            <div class="case-stat">
                                <div class="case-stat-value">50ms</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Response Time</div>
                            </div>
                        </div>
                        <span class="case-link">Read Full Story →</span>
                    </div>
                </div>

                <div class="case-card" onclick="showCaseDetail('healthcare-network')">
                    <div class="case-header">
                        <div class="case-icon">🏥</div>
                        <h3>Healthcare Network</h3>
                    </div>
                    <div class="case-content">
                        <p>Secured patient data for 2M+ records while maintaining HIPAA compliance and improving access speed.</p>
                        <div class="case-stats">
                            <div class="case-stat">
                                <div class="case-stat-value">100%</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">HIPAA Compliant</div>
                            </div>
                            <div class="case-stat">
                                <div class="case-stat-value">2M+</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Records Secured</div>
                            </div>
                        </div>
                        <span class="case-link">Read Full Story →</span>
                    </div>
                </div>

                <div class="case-card" onclick="showCaseDetail('tech-startup')">
                    <div class="case-header">
                        <div class="case-icon">🚀</div>
                        <h3>Hypergrowth Tech Startup</h3>
                    </div>
                    <div class="case-content">
                        <p>Built secure-by-design infrastructure enabling 10x growth while maintaining enterprise-grade security.</p>
                        <div class="case-stats">
                            <div class="case-stat">
                                <div class="case-stat-value">10x</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Growth Enabled</div>
                            </div>
                            <div class="case-stat">
                                <div class="case-stat-value">0</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Security Incidents</div>
                            </div>
                        </div>
                        <span class="case-link">Read Full Story →</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Case Study Detail Modal/Section (Placeholder for JS interaction) -->
    <section id="case-detail" class="case-detail-section" style="display: none;">
        <div class="container">
            <button class="close-detail" onclick="closeCaseDetail()">← Back to Success Stories</button>
            <div id="case-detail-content">
                <!-- Dynamic content will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Live Security Dashboard Demo -->
    <section class="dashboard-section" id="dashboard">
        <div class="container">
            <h2 class="section-title">Security Dashboard</h2>
            <p style="text-align: center; color: var(--gray); margin-bottom: 3rem;">
                Real-time threat monitoring and analytics
            </p>

            <div class="dashboard-container" id="dashboard-container">
                <!-- Protected content overlay will be inserted here if not authenticated -->

                <div class="dashboard-header">
                    <h3>Global Threat Monitor</h3>
                    <div class="status-indicator">
                        <span class="status-dot"></span>
                        <span>System Active</span>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="threats-blocked">1,247</div>
                        <div class="metric-label">Threats Blocked Today</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="active-monitors">243</div>
                        <div class="metric-label">Active Monitors</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="data-analyzed">15.7 TB</div>
                        <div class="metric-label">Data Analyzed</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="uptime">99.99%</div>
                        <div class="metric-label">System Uptime</div>
                    </div>
                </div>

                <!-- User Stats (only visible when authenticated) -->
                <div id="user-dashboard-stats" style="display: none;">
                    <h4 style="color: var(--primary); margin: 2rem 0 1rem 0;">Your Security Stats</h4>
                    <div class="user-stats">
                        <div class="stat-card">
                            <span class="stat-value" id="user-threats-blocked">0</span>
                            <span class="stat-label">Threats You've Blocked</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="user-ctf-points">0</span>
                            <span class="stat-label">CTF Points Earned</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="user-challenges-completed">0</span>
                            <span class="stat-label">Challenges Completed</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="user-rank">Unranked</span>
                            <span class="stat-label">Global Rank</span>
                        </div>
                    </div>

                    <div class="achievement-badges" id="user-achievements">
                        <!-- Achievements will be dynamically inserted -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTF Challenges Section -->
    <section class="ctf-section" id="ctf-challenges">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Capture The Flag Challenges</h2>
                <p class="section-subtitle">Test your cybersecurity skills with real-world scenarios</p>
            </div>

            <div class="ctf-challenges-grid" id="ctf-challenges-grid">
                <!-- Protected content overlay will be inserted here if not authenticated -->

                <!-- Challenge previews for unauthenticated users -->
                <div class="ctf-card">
                    <div class="service-icon">🌐</div>
                    <h3 class="service-title">Web Application Security</h3>
                    <p class="service-description">Test your skills in identifying and exploiting web vulnerabilities including SQL injection, XSS, and CSRF attacks.</p>
                    <div style="margin-top: 1rem;">
                        <span style="background: rgba(239, 68, 68, 0.2); color: var(--danger); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem;">CRITICAL - 1000 pts</span>
                    </div>
                </div>

                <div class="ctf-card">
                    <div class="service-icon">📡</div>
                    <h3 class="service-title">Network Forensics</h3>
                    <p class="service-description">Analyze network traffic to uncover APT activities and identify command & control communications.</p>
                    <div style="margin-top: 1rem;">
                        <span style="background: rgba(245, 158, 11, 0.2); color: var(--warning); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem;">HIGH - 800 pts</span>
                    </div>
                </div>

                <div class="ctf-card">
                    <div class="service-icon">🔐</div>
                    <h3 class="service-title">Cryptography</h3>
                    <p class="service-description">Break encryption schemes and decode intercepted communications from state-sponsored threat actors.</p>
                    <div style="margin-top: 1rem;">
                        <span style="background: rgba(16, 185, 129, 0.2); color: var(--success); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem;">MEDIUM - 600 pts</span>
                    </div>
                </div>

                <div class="ctf-card">
                    <div class="service-icon">🔬</div>
                    <h3 class="service-title">Digital Forensics</h3>
                    <p class="service-description">Investigate insider threats through digital forensics analysis of disk images, memory dumps, and network logs.</p>
                    <div style="margin-top: 1rem;">
                        <span style="background: rgba(239, 68, 68, 0.2); color: var(--danger); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem;">CRITICAL - 1200 pts</span>
                    </div>
                </div>
            </div>

            <!-- Monthly Prize Pool -->
            <div style="background: linear-gradient(135deg, rgba(255, 0, 110, 0.1), rgba(0, 212, 255, 0.1)); border-radius: 15px; padding: 2rem; margin-top: 3rem; text-align: center;">
                <h3 style="color: var(--secondary); margin-bottom: 1rem;">💰 Monthly Prize Pool: $25,000</h3>
                <p style="color: var(--gray);">Compete with cybersecurity professionals worldwide for cash prizes and career opportunities!</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Secure Your Future</h2>
                <p class="section-subtitle">Get in touch with our security experts</p>
            </div>
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Ready to Fortify Your Defenses?</h3>
                    <p>Our team of elite security professionals is standing by to assess your needs and design a custom security solution.</p>

                    <div class="contact-item">
                        <div class="contact-icon">📧</div>
                        <div>
                            <strong>Email</strong><br>
                            security@2r-at.com
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">📞</div>
                        <div>
                            <strong>24/7 Hotline</strong><br>
                            +1 (800) 2R-SECURE
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">🚨</div>
                        <div>
                            <strong>Emergency Response</strong><br>
                            Immediate incident response team
                        </div>
                    </div>
                </div>

                <form class="contact-form" id="contactForm" onsubmit="handleContactForm(event)">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="company">Company</label>
                        <input type="text" id="company" name="company">
                    </div>
                    <div class="form-group">
                        <label for="message">Security Needs</label>
                        <textarea id="message" name="message" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Request Security Assessment</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Security Disclosure</a>
                <a href="#">Certifications</a>
            </div>
            <p style="color: var(--gray);">© 2025 2R-AT Cybersecurity. All systems protected.</p>
            <p style="color: var(--gray); font-size: 0.8rem; margin-top: 1rem;">SOC 2 Type II | ISO 27001 | NIST Compliant</p>
        </div>
    </footer>

    <script>
        // Data Objects for Detail Views (from original complex file)
        const trainingDetails = {
            'security-awareness': {
                icon: '🧠', title: 'Security Awareness Training', subtitle: 'Transform your employees into human firewalls',
                description: 'Our comprehensive security awareness program is designed to educate and empower your workforce to recognize, avoid, and report cyber threats. Through interactive learning modules, real-world simulations, and continuous reinforcement, we create a culture of security within your organization.',
                duration: '4-8 weeks', level: 'All Levels', format: 'Hybrid (Online + In-Person)', certificationOffered: 'Security Awareness Certificate',
                features: [
                    'Interactive phishing simulation campaigns', 'Role-based security training modules', 'Real-world social engineering scenarios',
                    'Mobile security best practices', 'Password security and MFA training', 'Data protection and privacy awareness',
                    'Incident reporting procedures', 'Quarterly security updates and refreshers'
                ],
                curriculum: [
                    { module: 'Introduction to Cybersecurity', duration: '2 hours', desc: 'Understanding the threat landscape and basic security principles' },
                    { module: 'Email Security & Phishing', duration: '3 hours', desc: 'Identifying and avoiding phishing attacks and malicious emails' },
                    { module: 'Password Security & Authentication', duration: '2 hours', desc: 'Creating strong passwords and using multi-factor authentication' },
                    { module: 'Social Engineering Awareness', duration: '2 hours', desc: 'Recognizing and defending against social engineering tactics' },
                    { module: 'Data Protection & Privacy', duration: '2 hours', desc: 'Handling sensitive data and understanding privacy regulations' },
                    { module: 'Mobile & Remote Work Security', duration: '2 hours', desc: 'Securing mobile devices and working safely from home' },
                    { module: 'Incident Response & Reporting', duration: '1 hour', desc: 'What to do when a security incident occurs' }
                ],
                pricing: 'Starting at $99 per employee',
                benefits: [
                    { title: 'Reduce Human Error', desc: 'Decrease security incidents caused by employee mistakes by up to 85%' },
                    { title: 'Compliance Ready', desc: 'Meet regulatory training requirements for GDPR, HIPAA, and other frameworks' },
                    { title: 'Measurable Results', desc: 'Track progress with detailed analytics and reporting dashboards' },
                    { title: 'Continuous Learning', desc: 'Keep your team updated with the latest threats and best practices' }
                ]
            },
            'risk-management': {
                icon: '⚖️', title: 'Risk Management Certification', subtitle: 'Master enterprise risk assessment and mitigation',
                description: 'Develop expertise in identifying, assessing, and mitigating cybersecurity risks using industry-leading frameworks. This comprehensive program prepares professionals to build robust risk management programs that align with business objectives.',
                duration: '12 weeks', level: 'Intermediate to Advanced', format: 'Live Virtual + Self-Paced', certificationOffered: 'Certified Risk Management Professional (CRMP)',
                features: [
                    'NIST Risk Management Framework (RMF)', 'ISO 27001/27005 risk assessment methodologies', 'Business impact analysis and continuity planning',
                    'Quantitative and qualitative risk analysis', 'Risk treatment and mitigation strategies', 'Regulatory compliance frameworks',
                    'Risk communication and reporting', 'Continuous monitoring and assessment'
                ],
                curriculum: [ /* Shortened for brevity in prompt, full data in original */
                    { module: 'Risk Management Fundamentals', duration: '8 hours', desc: 'Core concepts, terminology, and risk management lifecycle' },
                    { module: 'Risk Assessment Methodologies', duration: '12 hours', desc: 'NIST, ISO 27005, FAIR, and other leading frameworks' },
                    { module: 'Capstone Project', duration: '16 hours', desc: 'Real-world risk assessment project' }
                ],
                pricing: 'Starting at $2,999 per participant',
                benefits: [
                    { title: 'Industry Recognition', desc: 'Earn credentials recognized by leading organizations worldwide' },
                    { title: 'Career Advancement', desc: 'Qualify for senior risk management and CISO positions' }
                ]
            },
            'ethical-hacking': {
                icon: '🎭', title: 'Ethical Hacking Bootcamp', subtitle: 'Master the art of penetration testing',
                description: 'Intensive hands-on training in ethical hacking and penetration testing. Learn to think like an attacker to better defend your organization. This immersive program covers the latest tools, techniques, and methodologies used by security professionals worldwide.',
                duration: '16 weeks', level: 'Advanced', format: 'Immersive Lab Environment', certificationOffered: 'Certified Ethical Hacker Professional (CEHP)',
                features: [
                    'Comprehensive network penetration testing', 'Advanced web application security testing', 'Mobile application penetration testing',
                    'Wireless network security assessment', 'Social engineering and physical security', 'Cloud infrastructure penetration testing',
                    'Active Directory and domain attacks', 'Real-world capture-the-flag challenges'
                ],
                curriculum: [ /* Shortened */
                    { module: 'Introduction to Ethical Hacking', duration: '8 hours', desc: 'Legal and ethical considerations, methodology overview' },
                    { module: 'Web Application Hacking', duration: '24 hours', desc: 'OWASP Top 10 and advanced web security testing' },
                    { module: 'Final Capstone Project', duration: '32 hours', desc: 'Comprehensive penetration test of simulated environment' }
                ],
                pricing: 'Starting at $8,999 per participant',
                benefits: [
                    { title: 'Hands-On Experience', desc: 'Real-world lab environments with vulnerable systems and applications' },
                    { title: 'Expert Instruction', desc: 'Learn from active penetration testers and security researchers' }
                ]
            },
            'digital-forensics': {
                icon: '🔬', title: 'Digital Forensics Bootcamp', subtitle: 'Investigate cyber crimes and security incidents',
                description: 'Comprehensive training in digital forensics and incident response. Learn to collect, analyze, and present digital evidence in legal proceedings. This program combines technical skills with legal knowledge to prepare forensic investigators for real-world challenges.',
                duration: '20 weeks', level: 'Advanced', format: 'Lab-Intensive + Legal Training', certificationOffered: 'Certified Digital Forensics Examiner (CDFE)',
                features: [
                    'Digital evidence acquisition and preservation', 'File system and memory analysis', 'Network forensics and packet analysis',
                    'Mobile device forensics (iOS/Android)', 'Cloud forensics and investigations', 'Malware analysis and reverse engineering',
                    'Legal procedures and court testimony', 'Incident response and threat hunting'
                ],
                curriculum: [ /* Shortened */
                    { module: 'Introduction to Digital Forensics', duration: '8 hours', desc: 'Fundamentals, legal framework, and best practices' },
                    { module: 'Mobile Device Forensics', duration: '20 hours', desc: 'iOS and Android acquisition and analysis' },
                    { module: 'Final Capstone Investigation', duration: '40 hours', desc: 'Complete forensic investigation with legal documentation' }
                ],
                pricing: 'Starting at $12,999 per participant',
                benefits: [
                    { title: 'Legal Training', desc: 'Understand legal requirements and court procedures for digital evidence' },
                    { title: 'Tool Mastery', desc: 'Hands-on experience with industry-standard forensic tools' }
                ]
            }
        };

        const featureDetails = {
            'ai-detection': {
                icon: '🤖', title: 'AI-Powered Detection', subtitle: 'Next-generation threat detection using advanced machine learning',
                description: 'Our AI-powered detection system uses cutting-edge machine learning algorithms to identify and respond to threats in real-time. The system continuously learns from new attack patterns, becoming more effective over time.',
                stats: [
                    { number: '99.97%', label: 'Detection Accuracy' }, { number: '<0.01%', label: 'False Positive Rate' },
                    { number: '24/7', label: 'Continuous Learning' }, { number: '1M+', label: 'Threats Analyzed Daily' }
                ],
                capabilities: [
                    'Behavioral anomaly detection', 'Pattern recognition across multiple data sources', 'Predictive threat modeling',
                    'Automated threat classification', 'Self-improving algorithms', 'Cross-platform threat correlation'
                ],
                technologies: [ 'TensorFlow', 'PyTorch', 'Scikit-learn', 'Apache Spark', 'Elasticsearch', 'Kafka', 'Neural Networks', 'Deep Learning', 'NLP'],
                caseStudy: { title: 'Financial Institution Success', description: 'Detected and prevented a sophisticated APT attack that traditional systems missed, saving $5M in potential losses.' }
            },
            'real-time-response': { /* ... similar structure ... */ icon: '⚡', title: 'Real-Time Response', subtitle: 'Instant automated threat neutralization', description: 'Description here', stats: [], capabilities: [], technologies: [], caseStudy: {} },
            'zero-trust': { /* ... similar structure ... */ icon: '🔐', title: 'Zero Trust Architecture', subtitle: 'Never trust, always verify security model', description: 'Description here', stats: [], capabilities: [], technologies: [], caseStudy: {} },
            'threat-intelligence': { /* ... similar structure ... */ icon: '🌐', title: 'Global Threat Intelligence', subtitle: 'Worldwide threat data at your fingertips', description: 'Description here', stats: [], capabilities: [], technologies: [], caseStudy: {} },
            'predictive-analytics': { /* ... similar structure ... */ icon: '📈', title: 'Predictive Analytics', subtitle: 'See threats before they materialize', description: 'Description here', stats: [], capabilities: [], technologies: [], caseStudy: {} },
            'certifications': { /* ... similar structure ... */ icon: '🏆', title: 'Industry Certified', subtitle: 'Compliance and excellence you can trust', description: 'Description here', stats: [], capabilities: [], technologies: [], caseStudy: {} }
        };

        const caseStudyDetails = {
            'financial-institution': {
                icon: '🏦', title: 'Global Financial Institution', client: 'Fortune 500 Banking Corporation', industry: 'Financial Services', duration: '18 months', teamSize: '15 security experts',
                overview: 'A leading global bank with over $2 trillion in assets needed to modernize their security infrastructure across 50+ international branches while maintaining 24/7 operations and regulatory compliance.',
                challenge: { title: 'The Challenge', points: [ 'Legacy security systems unable to handle modern threats', 'Increasing sophisticated fraud attempts costing $2M monthly', 'Complex regulatory requirements across 15 countries', 'Need for real-time threat detection without impacting performance', 'Siloed security tools creating visibility gaps' ] },
                solution: { title: 'Our Solution', points: [ 'Implemented enterprise-wide Zero Trust Architecture', 'Deployed AI-powered fraud detection system', 'Integrated 47 disparate security tools into unified platform', 'Created custom threat intelligence feeds for banking sector', 'Established 24/7 Security Operations Center (SOC)' ] },
                metrics: [ { value: '99.9%', label: 'Threat Prevention Rate' }, { value: '$10M', label: 'Fraud Prevented' }, /* ... more metrics ... */ ],
                timeline: [ { phase: 'Assessment', duration: '2 months', desc: 'Comprehensive security audit and gap analysis' }, /* ... more timeline items ... */ ],
                results: [ 'Prevented $10M in potential fraud in first year', 'Reduced security incidents by 95%', /* ... more results ... */ ],
                testimonial: { quote: "2R-AT transformed our security posture completely...", author: 'Michael Richardson', title: 'Chief Information Security Officer' },
                technologies: ['Zero Trust Network', 'AI/ML Fraud Detection', 'SIEM', 'EDR', 'Cloud Security', 'Blockchain']
            },
            'healthcare-network': { /* ... similar structure ... */ icon: '🏥', title: 'Regional Healthcare Network', client: 'MedCare Health Systems', overview: 'Description here...', challenge: {}, solution: {}, metrics: [], timeline: [], results: [], testimonial: {}, technologies: [] },
            'tech-startup': { /* ... similar structure ... */ icon: '🚀', title: 'Hypergrowth Tech Startup', client: 'CloudFlow Technologies', overview: 'Description here...', challenge: {}, solution: {}, metrics: [], timeline: [], results: [], testimonial: {}, technologies: [] }
        };

        // Show/Close Functions for Detail Views
        function showTrainingDetail(trainingId) {
            const detail = trainingDetails[trainingId];
            if (!detail) return;
            const content = `
                <div class="service-detail-header"> <div class="service-detail-icon">${detail.icon}</div> <h2 class="service-detail-title">${detail.title}</h2> <p style="font-size: 1.3rem; color: var(--gray);">${detail.subtitle}</p> </div>
                <div style="max-width: 800px; margin: 0 auto; text-align: center; margin-bottom: 3rem;"> <p style="font-size: 1.1rem; line-height: 1.8;">${detail.description}</p> </div>
                <div class="feature-stats"> <div class="feature-stat"> <span class="feature-stat-number">${detail.duration}</span> <span style="color: var(--gray);">Program Duration</span> </div> <div class="feature-stat"> <span class="feature-stat-number">${detail.level}</span> <span style="color: var(--gray);">Skill Level</span> </div> <div class="feature-stat"> <span class="feature-stat-number">${detail.format}</span> <span style="color: var(--gray);">Learning Format</span> </div> <div class="feature-stat"> <span class="feature-stat-number">✓</span> <span style="color: var(--gray);">Certification Included</span> </div> </div>
                <div class="service-detail-grid"> <div class="detail-card"> <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Key Features</h3> <ul class="detail-features"> ${detail.features.map(feature => `<li>${feature}</li>`).join('')} </ul> </div> <div class="detail-card"> <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Program Benefits</h3> ${detail.benefits.map(benefit => `<div style="margin-bottom: 1.5rem;"> <h4 style="color: var(--light); margin-bottom: 0.5rem;">${benefit.title}</h4> <p style="color: var(--gray);">${benefit.desc}</p> </div>`).join('')} </div> </div>
                <div style="margin-top: 3rem;"> <h3 style="text-align: center; color: var(--primary); margin-bottom: 2rem;">Curriculum Overview</h3> <div class="case-timeline"> ${detail.curriculum.map((module, index) => `<div class="timeline-item"> <div class="timeline-icon">${index + 1}</div> <div class="timeline-content"> <h4 style="color: var(--light); margin-bottom: 0.5rem;">${module.module} - ${module.duration}</h4> <p style="color: var(--gray);">${module.desc}</p> </div> </div>`).join('')} </div> </div>
                <div class="service-pricing"> <h3 style="font-size: 2rem; margin-bottom: 1rem;">Investment</h3> <div class="price-tag">${detail.pricing}</div> <p style="color: var(--gray); margin-bottom: 1rem;">Certification: ${detail.certificationOffered}</p> <p style="color: var(--gray); margin-bottom: 2rem;">Group discounts and corporate packages available</p> <button class="btn btn-primary" onclick="scrollToContact()">Enroll Now</button> <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="downloadBrochure('${trainingId}')">Download Brochure</button> </div>`;
            document.getElementById('training-detail-content').innerHTML = content;
            document.getElementById('training-detail').style.display = 'block';
            document.getElementById('training').style.display = 'none';
            document.getElementById('training-detail').scrollIntoView({ behavior: 'smooth' });
        }

        function closeTrainingDetail() {
            document.getElementById('training-detail').style.display = 'none';
            document.getElementById('training').style.display = 'block';
            document.getElementById('training').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadBrochure(trainingId) {
            const training = trainingDetails[trainingId];
            alert(`Training brochure for "${training.title}" will be sent to your email.`);
        }

        function showFeatureDetail(featureId) {
            const detail = featureDetails[featureId];
            if (!detail) return;
            // ... (similar detailed HTML generation as showTrainingDetail) ...
            // For brevity, I'll just show a simplified version here
            const content = `<div class="feature-detail-header"><div class="feature-detail-icon">${detail.icon}</div><h2 class="feature-detail-title">${detail.title}</h2><p>${detail.subtitle}</p></div><div>${detail.description}</div>`;
            document.getElementById('feature-detail-content').innerHTML = content;
            document.getElementById('feature-detail').style.display = 'block';
            document.getElementById('features').style.display = 'none';
            document.getElementById('feature-detail').scrollIntoView({ behavior: 'smooth' });
        }

        function closeFeatureDetail() {
            document.getElementById('feature-detail').style.display = 'none';
            document.getElementById('features').style.display = 'block';
            document.getElementById('features').scrollIntoView({ behavior: 'smooth' });
        }

        function scrollToContact() { /* Assuming this function exists or will be added */
            closeServiceDetail();
            closeTrainingDetail();
            closeFeatureDetail();
            closeCaseDetail();
            setTimeout(() => {
                document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function showCaseDetail(caseId) {
            const detail = caseStudyDetails[caseId];
            if (!detail) return;
            // ... (similar detailed HTML generation) ...
            const content = `<div class="case-detail-hero"><div class="case-detail-icon">${detail.icon}</div><h2 class="case-detail-title">${detail.title}</h2></div><div>${detail.overview}</div>`;
            document.getElementById('case-detail-content').innerHTML = content;
            document.getElementById('case-detail').style.display = 'block';
            document.getElementById('case-studies').style.display = 'none';
            document.getElementById('case-detail').scrollIntoView({ behavior: 'smooth' });
        }

        function closeCaseDetail() {
            document.getElementById('case-detail').style.display = 'none';
            document.getElementById('case-studies').style.display = 'block';
            document.getElementById('case-studies').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadCaseStudy(caseId) { // Added this function
            alert(`Case study PDF for "${caseStudyDetails[caseId].title}" will be sent to your email.`);
        }

        // Placeholder for showServiceDetail if it's used by any of the new sections
        // function showServiceDetail(serviceId) { /* ... */ }
        function closeServiceDetail() { /* ... */ }

        // Authentication System
        class AuthSystem {
            constructor() {
                this.users = new Map(); // In-memory user storage
                this.currentUser = null;
                this.sessionTimeout = 30 * 60 * 1000; // 30 minutes
                this.sessionTimer = null;

                this.initializeDemoUsers();
                this.checkExistingSession();
            }

            initializeDemoUsers() {
                const demoUsers = [
                    {
                        id: 'demo-admin', name: 'Admin User', email: 'admin@2r-at.com', password: 'admin123',
                        role: 'admin', company: '2R-AT Security', userRole: 'CISO', plan: 'enterprise',
                        joinDate: '2024-01-15',
                        stats: { threatsBlocked: 1547, ctfPoints: 8750, challengesCompleted: 12, rank: 'Elite Defender' },
                        achievements: [
                            { id: 'first-login', name: 'Welcome Aboard', icon: '🎉' },
                            { id: 'ctf-master', name: 'CTF Master', icon: '🏆' },
                            { id: 'threat-hunter', name: 'Threat Hunter', icon: '🎯' },
                            { id: 'security-expert', name: 'Security Expert', icon: '🛡️' }
                        ]
                    },
                    {
                        id: 'demo-user', name: 'Test User', email: 'user@example.com', password: 'user123',
                        role: 'user', company: 'Tech Corp', userRole: 'Security Analyst', plan: 'professional',
                        joinDate: '2024-06-20',
                        stats: { threatsBlocked: 342, ctfPoints: 2150, challengesCompleted: 5, rank: 'Security Specialist' },
                        achievements: [
                            { id: 'first-login', name: 'Welcome Aboard', icon: '🎉' },
                            { id: 'first-challenge', name: 'First Challenge', icon: '🎯' }
                        ]
                    }
                ];
                demoUsers.forEach(user => this.users.set(user.email, user));
            }

            checkExistingSession() {
                const sessionUser = sessionStorage.getItem('currentUser');
                if (sessionUser) {
                    this.currentUser = JSON.parse(sessionUser);
                    this.updateUIForAuthenticatedUser();
                    this.startSessionTimer();
                } else {
                    this.updateUIForUnauthenticatedUser();
                }
            }

            async register(userData) {
                const { name, email, company, userRole, password, confirm } = userData;
                if (password !== confirm) throw new Error('Passwords do not match');
                if (password.length < 8) throw new Error('Password must be at least 8 characters');
                if (this.users.has(email)) throw new Error('Email already registered');

                const newUser = {
                    id: 'user-' + Date.now(), name, email, company: company || 'Independent',
                    role: 'user', userRole, password, plan: 'basic',
                    joinDate: new Date().toISOString().split('T')[0],
                    stats: { threatsBlocked: 0, ctfPoints: 0, challengesCompleted: 0, rank: 'Novice' },
                    achievements: [{ id: 'first-login', name: 'Welcome Aboard', icon: '🎉' }]
                };
                this.users.set(email, newUser);
                this.currentUser = newUser;
                sessionStorage.setItem('currentUser', JSON.stringify(newUser));
                this.updateUIForAuthenticatedUser();
                this.startSessionTimer();
                showNotification('Account created successfully! Welcome.', 'success');
                closeAuthModal();
                return newUser;
            }

            async login(email, password) {
                const user = this.users.get(email);
                if (!user || user.password !== password) throw new Error('Invalid email or password');
                this.currentUser = user;
                sessionStorage.setItem('currentUser', JSON.stringify(user));
                this.updateUIForAuthenticatedUser();
                this.startSessionTimer();
                showNotification(`Welcome back, ${user.name}!`, 'success');
                closeAuthModal();
                return user;
            }

            logout() {
                this.currentUser = null;
                sessionStorage.removeItem('currentUser');
                this.clearSessionTimer();
                this.updateUIForUnauthenticatedUser();
                showNotification('Logged out securely.', 'success');
                if (['#dashboard', '#ctf-challenges'].includes(window.location.hash)) {
                    window.location.hash = '#home';
                }
            }

            updateUIForAuthenticatedUser() {
                document.getElementById('auth-buttons').style.display = 'none';
                document.getElementById('user-menu').style.display = 'block';
                const avatar = document.getElementById('user-avatar');
                const initials = this.currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                avatar.textContent = initials;
                avatar.className = `user-avatar role-${this.currentUser.role}`;
                document.getElementById('user-display-name').textContent = this.currentUser.name;
                document.getElementById('user-email').textContent = this.currentUser.email;
                document.getElementById('user-role').textContent = `${this.currentUser.userRole} • ${this.currentUser.plan.charAt(0).toUpperCase() + this.currentUser.plan.slice(1)} Plan`;
                this.renderProtectedContent(true);
                this.updateUserDashboard();
            }

            updateUIForUnauthenticatedUser() {
                document.getElementById('auth-buttons').style.display = 'flex';
                document.getElementById('user-menu').style.display = 'none';
                this.renderProtectedContent(false);
                const userStats = document.getElementById('user-dashboard-stats');
                if (userStats) userStats.style.display = 'none';
            }

            renderProtectedContent(isAuthenticated) {
                const sections = {
                    'dashboard': document.getElementById('dashboard-container'),
                    'ctf': document.getElementById('ctf-challenges-grid')
                };

                for (const key in sections) {
                    const sectionElement = sections[key];
                    if (!sectionElement) continue;

                    let overlay = sectionElement.querySelector('.protected-overlay');
                    if (isAuthenticated) {
                        if (overlay) overlay.remove();
                        // Here you would reveal the actual content for authenticated users
                        // For now, we'll just ensure the placeholder text is clear if no real content is there yet
                        if (key === 'dashboard' && sectionElement.children.length === 0 && !overlay) {
                             // If dashboard is empty after removing overlay, show some default auth content
                            sectionElement.innerHTML = `
                                <div class="dashboard-header"><h3>Global Threat Monitor</h3><div class="status-indicator"><span class="status-dot"></span><span>System Active</span></div></div>
                                <div class="metrics-grid">
                                    <div class="metric-card"><div class="metric-value" id="threats-blocked">1,247</div><div class="metric-label">Threats Blocked Today</div></div>
                                    <div class="metric-card"><div class="metric-value" id="active-monitors">243</div><div class="metric-label">Active Monitors</div></div>
                                    <div class="metric-card"><div class="metric-value" id="data-analyzed">15.7 TB</div><div class="metric-label">Data Analyzed</div></div>
                                    <div class="metric-card"><div class="metric-value" id="uptime">99.99%</div><div class="metric-label">System Uptime</div></div>
                                </div>
                                <div id="user-dashboard-stats" style="display: none;"><h4 style="color: var(--primary); margin: 2rem 0 1rem 0;">Your Security Stats</h4><div class="user-stats"><div class="stat-card"><span class="stat-value" id="user-threats-blocked">0</span><span class="stat-label">Threats Blocked</span></div><div class="stat-card"><span class="stat-value" id="user-ctf-points">0</span><span class="stat-label">CTF Points</span></div><div class="stat-card"><span class="stat-value" id="user-challenges-completed">0</span><span class="stat-label">Challenges Done</span></div><div class="stat-card"><span class="stat-value" id="user-rank">Unranked</span><span class="stat-label">Global Rank</span></div></div><div class="achievement-badges" id="user-achievements"></div></div>
                            `;
                            this.updateUserDashboard(); // Update stats now that elements are there
                        } else if (key === 'ctf' && sectionElement.children.length === 0 && !overlay) {
                            // If CTF section is empty, show message or actual challenges
                            sectionElement.innerHTML = '<p style="color:var(--light); text-align:center;">Authenticated CTF Content Area. Challenges would be loaded here.</p>';
                        }
                    } else {
                        if (!overlay) {
                            overlay = document.createElement('div');
                            overlay.className = 'protected-overlay';
                            overlay.innerHTML = `
                                <div class="protected-content">
                                    <div class="protected-icon">🔒</div>
                                    <h3 class="protected-title">Authentication Required</h3>
                                    <p class="protected-text">Please log in to access this premium content and advanced security features.</p>
                                    <button class="btn btn-primary" onclick="showAuthModal('login')">Login Now</button>
                                    <button class="btn btn-secondary" onclick="showAuthModal('register')" style="margin-left: 1rem;">Create Account</button>
                                </div>
                            `;
                            sectionElement.style.position = 'relative'; // Ensure overlay positions correctly
                            // Clear placeholder content before adding overlay if it's just previews
                            if (key === 'ctf') {
                                 // Keep previews, just overlay them
                            } else {
                                sectionElement.innerHTML = ''; // Clear other sections like dashboard
                            }
                            sectionElement.appendChild(overlay);
                        }
                    }
                }
            }

            updateUserDashboard() {
                if (!this.currentUser) return;
                const userStatsSection = document.getElementById('user-dashboard-stats');
                if (userStatsSection) userStatsSection.style.display = 'block';

                document.getElementById('user-threats-blocked').textContent = this.currentUser.stats.threatsBlocked.toLocaleString();
                document.getElementById('user-ctf-points').textContent = this.currentUser.stats.ctfPoints.toLocaleString();
                document.getElementById('user-challenges-completed').textContent = this.currentUser.stats.challengesCompleted;
                document.getElementById('user-rank').textContent = this.currentUser.stats.rank;
                const achievementsContainer = document.getElementById('user-achievements');
                achievementsContainer.innerHTML = this.currentUser.achievements.map(a => `<div class="badge">${a.icon} ${a.name}</div>`).join('');
            }

            startSessionTimer() {
                this.clearSessionTimer();
                this.sessionTimer = setTimeout(() => {
                    showNotification('Session expired. Please log in again.', 'warning');
                    this.logout();
                }, this.sessionTimeout);
            }

            clearSessionTimer() {
                if (this.sessionTimer) clearTimeout(this.sessionTimer);
                this.sessionTimer = null;
            }

            isAuthenticated() { return this.currentUser !== null; }
            getCurrentUser() { return this.currentUser; }

            updateUserStats(statType, value) {
                if (this.currentUser) {
                    this.currentUser.stats[statType] += value;
                    this.updateUserDashboard();
                    sessionStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                }
            }

            addAchievement(achievementId, name, icon) {
                if (this.currentUser) {
                    const existing = this.currentUser.achievements.find(a => a.id === achievementId);
                    if (!existing) {
                        this.currentUser.achievements.push({ id: achievementId, name, icon });
                        this.updateUserDashboard();
                        showNotification(`🎉 Achievement Unlocked: ${name}!`, 'success');
                        sessionStorage.setItem('currentUser', JSON.stringify(this.currentUser));
                    }
                }
            }
        }

        const auth = new AuthSystem();

        function showAuthModal(mode = 'login') {
            document.getElementById('auth-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            switchAuthTab(mode);
        }

        function closeAuthModal() {
            document.getElementById('auth-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function switchAuthTab(mode) {
            document.getElementById('login-tab').classList.toggle('active', mode === 'login');
            document.getElementById('register-tab').classList.toggle('active', mode === 'register');
            document.getElementById('login-form').classList.toggle('active', mode === 'login');
            document.getElementById('register-form').classList.toggle('active', mode === 'register');
            document.getElementById('auth-title').textContent = mode === 'login' ? 'Welcome Back' : 'Join 2R-AT Security';
            document.getElementById('auth-subtitle').textContent = mode === 'login' ? 'Secure access to your account' : 'Start your cybersecurity journey';
        }

        async function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            try {
                await auth.login(formData.get('email'), formData.get('password'));
            } catch (error) { showNotification(error.message, 'error'); }
        }

        async function handleRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            try {
                await auth.register({
                    name: formData.get('name'), email: formData.get('email'), company: formData.get('company'),
                    userRole: formData.get('role'), password: formData.get('password'), confirm: formData.get('confirm')
                });
            } catch (error) { showNotification(error.message, 'error'); }
        }

        function logout() {
            auth.logout();
            toggleUserDropdown();
        }

        function toggleUserDropdown() {
            document.getElementById('user-dropdown').classList.toggle('active');
        }

        document.addEventListener('click', (event) => {
            const userMenu = document.getElementById('user-menu');
            if (userMenu && !userMenu.contains(event.target)) {
                document.getElementById('user-dropdown').classList.remove('active');
            }
        });

        function checkAuth(sectionId) {
            if (!auth.isAuthenticated()) {
                showNotification('Please log in to access this section.', 'warning');
                showAuthModal('login');
                // Prevent default navigation if it's an event handler context
                if (event && typeof event.preventDefault === 'function') {
                    event.preventDefault();
                }
                return false;
            }
             // If authenticated, ensure the correct content is shown (removes overlay)
            auth.renderProtectedContent(true);
            // Allow navigation to the section
            const targetSection = document.getElementById(sectionId);
            if(targetSection) {
                targetSection.scrollIntoView({ behavior: 'smooth' });
            }
            return true;
        }

        function showProfile() {
            if (!auth.isAuthenticated()) return;
            const user = auth.getCurrentUser();
            alert(`Profile:
Name: ${user.name}
Email: ${user.email}
Role: ${user.userRole}
Plan: ${user.plan}
Joined: ${user.joinDate}
CTF Points: ${user.stats.ctfPoints}`);
        }
        function showAchievements() {
            if (!auth.isAuthenticated()) return;
            const user = auth.getCurrentUser();
            alert(`Achievements:
${user.achievements.map(a => `${a.icon} ${a.name}`).join('
')}`);
        }
        function showSettings() { alert('Settings panel placeholder.'); }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            document.getElementById('notification-message').textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => notification.classList.remove('show'), 5000);
        }

        function handleContactForm(event) {
            event.preventDefault();
            const btn = event.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            btn.textContent = 'Sending...'; btn.disabled = true;
            setTimeout(() => {
                btn.textContent = 'Message Sent ✓'; btn.style.background = 'var(--success)';
                const user = auth.getCurrentUser();
                showNotification(user ? `Thanks, ${user.name}! We'll be in touch.` : 'Thanks! We will contact you soon.', 'success');
                setTimeout(() => {
                    btn.textContent = originalText; btn.disabled = false; btn.style.background = '';
                    event.target.reset();
                }, 3000);
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            auth.checkExistingSession(); // Checks session and updates UI accordingly
        });

        window.addEventListener('click', (event) => {
            if (event.target === document.getElementById('auth-modal')) closeAuthModal();
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                if(loader) { // Added null check for loader
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        if(loader) loader.style.display = 'none';
                    }, 500);
                }
            }, 1000);
        });

        function createParticle() {
            const particlesContainer = document.getElementById('particles');
            if (!particlesContainer) return; // Exit if container not found
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.opacity = Math.random() * 0.5 + 0.1;
            particlesContainer.appendChild(particle);
            setTimeout(() => particle.remove(), 15000);
        }
        setInterval(createParticle, 300);

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                // If it's an auth-protected link, checkAuth will handle it
                if (href === '#dashboard' || href === '#ctf-challenges') {
                    // checkAuth is already called onclick, so just prevent default if not authenticated
                    if (!auth.isAuthenticated()) {
                        e.preventDefault();
                    } else {
                         // Allow default behavior for authenticated users or let checkAuth handle scrolling
                        const target = document.querySelector(href);
                        if (target) {
                             e.preventDefault(); // Prevent default only if we are smooth scrolling
                             target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                } else {
                    // Normal smooth scroll for other links
                    const target = document.querySelector(href);
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }
                // Mobile menu closing logic
                const navLinks = document.querySelector('.nav-links');
                const mobileToggle = document.querySelector('.mobile-menu-toggle');
                if (navLinks && navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    if(mobileToggle) mobileToggle.classList.remove('active');
                }
            });
        });

        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if(navbar) { // Added null check
                if (window.scrollY > 50) {
                    navbar.style.background = 'rgba(5, 7, 20, 0.95)';
                    navbar.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.5)';
                } else {
                    navbar.style.background = 'rgba(5, 7, 20, 0.9)';
                    navbar.style.boxShadow = 'none';
                }
            }
        });

        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        if (mobileMenuToggle && navLinks) {
            mobileMenuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                mobileMenuToggle.classList.toggle('active');
            });
        }

        document.addEventListener('keydown', (event) => {
            if (event.ctrlKey && event.key === 'l') {
                event.preventDefault();
                if (!auth.isAuthenticated()) showAuthModal('login');
            }
            if (event.key === 'Escape') {
                closeAuthModal();
                const userDropdown = document.getElementById('user-dropdown');
                if(userDropdown) userDropdown.classList.remove('active');
            }
        });

        // Initial check for protected content on page load/hash change
        function handleProtectedContentDisplay() {
            auth.renderProtectedContent(auth.isAuthenticated());
        }
        window.addEventListener('hashchange', handleProtectedContentDisplay);
        document.addEventListener('DOMContentLoaded', handleProtectedContentDisplay); // Also run on initial load

    </script>
</body>
</html>
